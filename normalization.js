const serverData = [
  {
    "id": "9025b734-8a43-47c6-8700-5721fb66a2c9",
    "exerciseGroupDto": {
      "id": 1,
      "name": "PELVIC MOVEMENTS"
    },
    "date": "2023-10-25",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": null,
    "time08_10": null,
    "time10_12": 12,
    "time12_14": null,
    "time14_16": null,
    "time16_18": 4,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "05930d94-0dfb-425d-899c-0df86ae981eb",
    "exerciseGroupDto": {
      "id": 1,
      "name": "PELVIC MOVEMENTS"
    },
    "date": "2023-10-26",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 12,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": 2,
    "time18_20": 60,
    "time20_22": 60,
    "time22_24": null
  },
  {
    "id": "7d811aa2-e9fd-4b23-a802-d1e6b537681a",
    "exerciseGroupDto": {
      "id": 2,
      "name": "HIP FLEXORS AND THIGHS FRONT"
    },
    "date": "2023-10-26",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": 60,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "46252166-7c04-47e7-ae49-f34436d26257",
    "exerciseGroupDto": {
      "id": 3,
      "name": "LATERAL THIGHS AND BUTTOCKS"
    },
    "date": "2023-10-26",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 50,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "5804510c-286b-4f03-8c35-ba133c256f77",
    "exerciseGroupDto": {
      "id": 4,
      "name": "BACK OF THIGHS"
    },
    "date": "2023-10-26",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": 80,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "74f7de76-091c-467a-a233-32cc6c2fed0b",
    "exerciseGroupDto": {
      "id": 5,
      "name": "ADDITIONALS"
    },
    "date": "2023-10-26",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 30,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": 22,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "fb12b303-6297-4c7c-b4ad-02e6efc37e88",
    "exerciseGroupDto": {
      "id": 1,
      "name": "PELVIC MOVEMENTS"
    },
    "date": "2023-10-27",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": 20,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "015c02cf-516a-4354-92a1-59d329b666e3",
    "exerciseGroupDto": {
      "id": 3,
      "name": "LATERAL THIGHS AND BUTTOCKS"
    },
    "date": "2023-10-27",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "ef8cd76b-3439-4e7e-bf00-070fa98ed9d9",
    "exerciseGroupDto": {
      "id": 4,
      "name": "BACK OF THIGHS"
    },
    "date": "2023-10-27",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": 10,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "9025b736-8a43-47c6-8700-5721fb66a2c9",
    "exerciseGroupDto": {
      "id": 1,
      "name": "PELVIC MOVEMENTS"
    },
    "date": "2023-10-24",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": null,
    "time08_10": null,
    "time10_12": 12,
    "time12_14": null,
    "time14_16": null,
    "time16_18": 4,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "05930d64-0dfb-425d-899c-0df86ae981eb",
    "exerciseGroupDto": {
      "id": 1,
      "name": "PELVIC MOVEMENTS"
    },
    "date": "2023-10-23",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 12,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": 2,
    "time18_20": 60,
    "time20_22": 60,
    "time22_24": null
  },
  {
    "id": "7d811aa6-e9fd-4b23-a802-d1e6b537681a",
    "exerciseGroupDto": {
      "id": 2,
      "name": "HIP FLEXORS AND THIGHS FRONT"
    },
    "date": "2023-10-24",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": 60,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "46252165-7c04-47e7-ae49-f34436d26257",
    "exerciseGroupDto": {
      "id": 3,
      "name": "LATERAL THIGHS AND BUTTOCKS"
    },
    "date": "2023-10-24",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 50,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": 11
  },
  {
    "id": "5804515c-286b-4f03-8c35-ba133c256f77",
    "exerciseGroupDto": {
      "id": 4,
      "name": "BACK OF THIGHS"
    },
    "date": "2023-10-24",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": 80,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": 33,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "44f7de76-091c-467a-a233-32cc6c2fed0b",
    "exerciseGroupDto": {
      "id": 5,
      "name": "ADDITIONALS"
    },
    "date": "2023-10-24",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 30,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "fb32b303-6297-4c7c-b4ad-02e6efc37e88",
    "exerciseGroupDto": {
      "id": 1,
      "name": "PELVIC MOVEMENTS"
    },
    "date": "2023-10-22",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": 20,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "014c02cf-516a-4354-92a1-59d329b666e3",
    "exerciseGroupDto": {
      "id": 3,
      "name": "LATERAL THIGHS AND BUTTOCKS"
    },
    "date": "2023-10-23",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": 90,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": 90,
    "time22_24": null
  },
  {
    "id": "ef8cd78b-3639-4e7e-bf00-070fa98ed9d9",
    "exerciseGroupDto": {
      "id": 4,
      "name": "BACK OF THIGHS"
    },
    "date": "2023-10-23",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": 10,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "ef8cd76b-3429-4e7e-bf00-070fa98ed9d9",
    "exerciseGroupDto": {
      "id": 4,
      "name": "BACK OF THIGHS"
    },
    "date": "2023-10-22",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": 10,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "9025b736-8a23-47c6-8700-5721fb66a2c9",
    "exerciseGroupDto": {
      "id": 1,
      "name": "PELVIC MOVEMENTS"
    },
    "date": "2023-10-22",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": null,
    "time08_10": null,
    "time10_12": 12,
    "time12_14": null,
    "time14_16": null,
    "time16_18": 4,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "05930d64-0dfb-225d-899c-0df86ae981eb",
    "exerciseGroupDto": {
      "id": 1,
      "name": "PELVIC MOVEMENTS"
    },
    "date": "2023-10-21",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 12,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": 2,
    "time18_20": 60,
    "time20_22": 60,
    "time22_24": null
  },
  {
    "id": "7d811aa6-e9fd-2b23-a802-d1e6b537681a",
    "exerciseGroupDto": {
      "id": 2,
      "name": "HIP FLEXORS AND THIGHS FRONT"
    },
    "date": "2023-10-21",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": null,
    "time10_12": null,
    "time12_14": 60,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": null
  },
  {
    "id": "46252165-7c04-27e7-ae49-f34436d26257",
    "exerciseGroupDto": {
      "id": 3,
      "name": "LATERAL THIGHS AND BUTTOCKS"
    },
    "date": "2023-10-21",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 50,
    "time08_10": null,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": null,
    "time20_22": null,
    "time22_24": 11
  },
  {
    "id": "5804515c-286b-2f03-8c35-ba133c256f77",
    "exerciseGroupDto": {
      "id": 4,
      "name": "BACK OF THIGHS"
    },
    "date": "2023-10-21",
    "time00_02": null,
    "time02_04": null,
    "time04_06": null,
    "time06_08": 10,
    "time08_10": 80,
    "time10_12": null,
    "time12_14": null,
    "time14_16": null,
    "time16_18": null,
    "time18_20": 33,
    "time20_22": null,
    "time22_24": null
  }
];

const dataWithDate = [];

for(const item of serverData) {
  const date = item.date;

  const dataWithDateItem = dataWithDate.find(i => i.date === date);

  if(!dataWithDateItem) {
    dataWithDate.push({
      date,
      groups: [],
    });
  }

  const resultItem = dataWithDate.find(i => i.date === date);

  resultItem.groups.push(
    {
      ...item.exerciseGroupDto,
      periods: Object.entries(item).filter(([key, value]) => key.includes('time')).map(([key, value]) => ({ [key]: value })),
    }
  )
}

function transformData(allData) {
  let transformed = [];

  allData.forEach(data => {
    data.groups.forEach(group => {
      group.periods.forEach(period => {
        Object.entries(period).forEach(([key, value]) => {
          if (value !== null) {
            transformed.push({
              date: data.date,
              timeKey: key,
              value: value,
              groupId: group.id,
              groupName: group.name
            });
          }
        });
      });
    });
  })

  return transformed;
}


console.log(JSON.stringify(transformData(dataWithDate), undefined, 2));
